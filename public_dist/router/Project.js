let router=require("express").Router(),RequestToId=require("../api/api.auth").RequestToId,{getProject,addProject,updateProject,deleteProject,getProjectItem}=require("../api/api.project"),dataDecrypt=require("../util/crpyto").dataDecrypt;router.get("/api/project/get",async(e,t)=>{try{var r=RequestToId(e),{offset:a,limit:o}=e.query,c=await getProject(r,a,o);t.status(200).send(c)}catch(e){console.log("err",e)}}),router.post("/api/project/add",async(e,t)=>{try{var r=RequestToId(e),a=dataDecrypt(e.body.data),o=await addProject(r,a);t.status(200).send(o)}catch(e){console.log("err",e)}}),router.post("/api/project/update",async(e,t)=>{try{var r=RequestToId(e),a=dataDecrypt(e.body.data),o=await updateProject(r,a);t.status(200).send(o)}catch(e){console.log("err",e)}}),router.post("/api/project/delete",async(e,t)=>{try{var r=RequestToId(e),a=dataDecrypt(e.body.data),o=await deleteProject(r,a);t.status(200).send(o)}catch(e){console.log("/api/project/delete err",e)}}),router.get("/api/project/:itemKey",async(e,t)=>{try{var r=RequestToId(e),a=e.params.itemKey,o=await getProjectItem(r,a);t.status(200,o).send(o)}catch(e){console.log("/api/project/:itemKey",e),t.status(400).send(e)}}),module.exports=router;// build date : 2024. 12. 23. 오후 10:15:20