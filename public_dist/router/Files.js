let router=require("express").Router(),RequestToId=require("../api/api.auth").RequestToId,{FileUpload2,FilesDelete,FileDownload}=require("../api/api.file");router.post("/api/files/swiperData",async(e,t)=>{try{var s=e.files,a=RequestToId(e),i=await FileUpload2("file",a,s);t.status(200).send(i)}catch(e){t.status(400).send(e)}}),router.post("/api/files/attachedFiles",async(e,t)=>{try{var s=e.files,a=RequestToId(e),i=await FileUpload2("file",a,s);t.status(200).send(i)}catch(e){t.status(400).send(e)}}),router.post("/api/files/deleteFiles",async(e,t)=>{try{var s=RequestToId(e),a=e.body,i=await FilesDelete(s,a);t.status(200).send(i)}catch(e){t.status(400).send(e)}}),router.post("/api/files/download",async(e,t)=>{try{var s=RequestToId(e),a=e.body.fileName;(await FileDownload(s,a)).pipe(t)}catch(e){console.log(e,"file router download error"),t.status(400).send(e)}}),module.exports=router;// build date : 2024. 12. 23. 오후 10:15:20