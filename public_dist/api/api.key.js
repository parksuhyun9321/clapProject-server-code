let UserModel=require("../model/user").UserModel,decryptKey=require("../util/key").decryptKey,ResultResponse=require("../util/resultResponse");async function keyVerify(e){try{var r,s,t,n,y=decryptKey(e),l=await UserModel.findOne({id:y});return l?(s=(r=l.id===y)?200:400,t={is:r?"true":y,admin:process.env.ADMIN_ID===e},n=r?"":"decryptKey error",new ResultResponse(s,t,n)):new ResultResponse(403,null,"userInfo null")}catch(e){throw new ResultResponse(400,e,"keyVerify UserModel MONGOOSE ERROR")}}module.exports={keyVerify:keyVerify};// build date : 2024. 12. 23. 오후 10:15:20